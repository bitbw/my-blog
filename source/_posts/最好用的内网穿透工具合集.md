---
title: 最好用的内网穿透工具合集
date: 2021-05-28 14:35:15
tags:
  - 网络应用
  - 工具使用
categories: 网络应用
cnblogs:
  postid: "15393042"
hash: bf42c468ec5f600ee94beb88ed88aed47ac9de10397215cbfc158fcd6ce7f674
---



## **1、ngrok**

ngrok 是一个反向代理，通过在公共的端点和本地运行的 Web 服务器之间建立一个安全的通道。

官网地址：

```
https://ngrok.com
```

使用步骤：

（1）进入ngrok官网注册账号，并下载ngrok。

（2）在目标机器上，填写授权码，运行ngrok。

```
./ngrok authtoken 授权码
```

（3）将HTTP隧道转发到本地端口80，如下图，通过外网域名即可访问到本地80端口。

```
./ngrok http 80
```

![img](https://gitee.com/bitbw/my-gallery/raw/master/img/f13010897045010bae8241e305d0ce03.png)

## **2、frp**

frp 是一个高性能的反向代理应用，可以帮助您轻松地进行内网穿透，对外网提供服务，支持 tcp, http, https 等协议类型，并且 web 服务支持根据域名进行路由转发。

git项目地址：

```
https://github.com/fatedier/frp
```

使用步骤：

（1）将 frps 及 frps.ini 放到有公网 IP 的机器上，修改frps.ini文件，配置一个名为ssh的反向代理：

```
# frps.ini[common]bind_port = 7000
[ssh]listen_port=6000auth_token=123
```

（2）启动frps：

```
./frps -c ./frps.ini
```

（3）将 frpc 及 frpc.ini 放到处于内网环境的机器上，修改 frpc.ini 文件，设置 frps 所在服务器的 IP 为 x.x.x.x：

```
# frpc.ini[common]server_addr = 192.168.172.131server_port = 7000auth_token =123
[ssh]type = tcplocal_ip = 127.0.0.1local_port = 22remote_port = 6000
```

（4）启动frpc：

```
./frpc -c ./frpc.ini
```

（5）通过ssh访问内网服务器，假设用户名为test：

```
ssh -p 6000 test@x.x.x.x
```

## **3、Sunny-Ngrok**

一条命令解决的外网访问内网问题，无需任何配置，一条命令让外网访问您的内网不再是距离。Ngrok客户端，支持Windows、Linux、Mac，提供python、PHP等版本。

官网地址：

```
https://www.ngrok.cc
```

使用步骤：

(1) 开通http隧道，设置隧道协议、本地端口等信息。

![img](https://gitee.com/bitbw/my-gallery/raw/master/img/ec482ca12b228da6abaff1c73b97f7f1.png)



（2）通过隧道id启动隧道。

![img](https://gitee.com/bitbw/my-gallery/raw/master/img/094a510cb3634d077eba2bb00b0d7b93.png)



（3）在公网上访问域名，即可访问到内网的网站。

![img](https://gitee.com/bitbw/my-gallery/raw/master/img/ab33b6cb60e1c72327f158a71fe05bc8.png)

## **4、Natapp**

基于ngrok的内网映射工具，免费版本提供http,tcp,udp全隧道穿透、随机域名/随机TCP,UDP端口、不定时强制更换域名/端口和自定义本地端口。

下载地址：

```
https://natapp.cn
```

（1）购买隧道，设置隧道协议和本地端口。

![img](https://gitee.com/bitbw/my-gallery/raw/master/img/8e5db4e1349fe4ec13ff9d0e3465f4ba.png)

（2）下载客户端，到目标主机，运行natapp。

![img](https://gitee.com/bitbw/my-gallery/raw/master/img/4b995772ba9e08262c9a08d4366a5f8c.png)

（3）将natapp分配的网址复制下来，在浏览器中访问，可以看到内网穿透成功了!

![img](https://gitee.com/bitbw/my-gallery/raw/master/img/5d8e62ea2c422619d66e75b9d6b8265a.png)



## **5、Earthworm 内网穿透**   

EW 是一套便携式的网络穿透工具，具有 SOCKS v5服务架设和端口转发两大核心功能，可在复杂网络环境下完成网络穿透。

支持Windows、Linux、MacOS、Arm-Linux。

项目地址：

```
http://rootkiter.com/EarthWorm
```

使用方法：

（1）正向 SOCKS v5 服务器，适用于目标网络边界存在公网IP且可任意开监听端口。

```
./ew -s ssocksd -l 1080
```

（2）反弹SOCKS v5 服务器，适用于目标网络边界不存在公网 IP，需要通过反弹方式创建 socks 代理

```
 a) 先在一台具有公网 ip 的主机A上运行以下命令： ./ew -s rcsocks -l 1080 -e 8888
 b) 在目标主机B上启动 SOCKS v5 服务 并反弹到公网主机的 8888端口  ./ew -s rssocks -d 1.1.1.1 -e 8888
```

（3）多级级联，适用于多层级的复杂网络环境，将内网深层的服务转发到外网。

![复制代码](https://img-blog.csdnimg.cn/img_convert/48304ba5e6f9fe08f3fa1abda7d326ab.png)

```
## 二级级联测试用例

# 方式一：利用lcx_tran $ ./ew -s ssocksd  -l 9999 $ ./ew -s lcx_tran -l 1080 -f 127.0.0.1 -g 9999
# 方式二： $ ./ew -s lcx_listen -l 1080 -e 8888 $ ./ew -s ssocksd    -l 9999 $ ./ew -s lcx_slave  -d 127.0.0.1 -e 8888 -f 127.0.0.1 -g 9999

## 三级级联测试用例
  $ ./ew -s rcsocks -l 1080 -e 8888  $ ./ew -s lcx_slave -d 127.0.0.1 -e 8888 -f 127.0.0.1 -g 9999  $ ./ew -s lcx_listen -l 9999 -e 7777  $ ./ew -s rssocks -d 127.0.0.1 -e 7777
```

![复制代码](https://img-blog.csdnimg.cn/img_convert/48304ba5e6f9fe08f3fa1abda7d326ab.png)

## **6、reDuh**

ReDuh 是一个通过 HTTP 协议建立隧道传输各种其他数据的工具，通过在服务器上传JSP/PHP/ASP脚本，就可以轻易地连接到服务器后面的主机。

github项目地址：

```
https://github.com/sensepost/reDuh
```

（1）上传服务端jsp脚本到目标机器

![img](https://gitee.com/bitbw/my-gallery/raw/master/img/dfc158effb2e8b274d87cb0b7c330667.png)



（2）使用reDuh客户端连接服务端脚本上传后的地址。

```
java -jar reDuhClient.jar http://192.168.172.1/reDuh.jsp
```

![img](https://gitee.com/bitbw/my-gallery/raw/master/img/c226988f3c7ec7dcfa8f24e64aefb5c4.png)



## **7、reGeorg** 

reGeorg是reDuh的继承者,利用了会话层的socks5协议,结合Proxifier使用效率会更高。

下载地址：

```
https://github.com/sensepost/reGeorg
```

使用方法：

（1）将 tunnel脚本（aspx | ashx | jsp | php）上传到Web服务器，访问显示“Georg says, ‘All seems fine’“，表示脚本运行正常。

![img](https://gitee.com/bitbw/my-gallery/raw/master/img/422517009f797cd1579225320a5700d5.png)

（2）在攻击者机器上，启动reGeorgSocksProxy.py，监听9999端口，看到 Checking if Georg is ready，确认正常运行。

![img](https://gitee.com/bitbw/my-gallery/raw/master/img/d5f591dfsdeb9c8f9ac427b0d641b42f5a13.png)

## **8、Tunna**

Tunna是一款神奇的工具，它可以通过HTTP封装隧道通信任何TCP，以及用于绕过防火墙环境中的网络限制。

github项目地址：

```
https://github.com/SECFORCE/Tunna
```

![img](https://gitee.com/bitbw/my-gallery/raw/master/img/Tunna6976179aa16eaa0b6cda3dd0fe40e17b.png)



## **9、sSocks**    

sSocks是一个socks代理工具套装，可用来开启socks代理服务，支持socks5验证，支持IPV6和UDP，并提供反向socks代理服务，即将远程计算机作为socks代理服务端，反弹回本地，极大方便内网的渗透测试。

下载地址：

```
http://sourceforge.net/projects/ssocks/
```

使用方法：

（1）正向代理

```
./ssocksd --bind 192.168.172.131 --port 1234
```

（2）反向代理

```
## 监听6020端口转发到6010./rcsocks -l 6020 -p 6010 -vv
## 反向连接代理主机6010端口./rssocks -s 192.168.172.131:6010 -vv
```